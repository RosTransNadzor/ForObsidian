[[Операционные системы/1 Глава/1 Глава - Введение|1 Глава - Введение]]

<span style="color:HotPink;font-weight:bold;">Системные вызовы (видимо в Unix)</span>

- Выполнение системного вызова
	- Когда процесс выполняет пользовательскую программу в режиме пользователя и нуждается в какой-нибудь услуге операционной системы, например в чтении данных из файла, он должен выполнить команду системного прерывания, чтобы передать управление операционной системе.
	- Затем операционная система по параметрам вызова определяет, что именно требуется вызывающему процессу. После этого она обрабатывает системный вызов и возвращает управление той команде, которая следует за системным вызовом.
- Обработка ошибок системных вызовов (На примере read)
	- Если системный вызов не может быть выполнен из-за неправильных параметров или ошибки диска, значение переменной count устанавливается в −1,
	- а номер ошибки помещается в глобальную переменную errno. Программам обязательно нужно проверять результаты системного вызова, чтобы отслеживать возникновение ошибки.
- fork (разветвление) в Unix
	- Вызов fork является единственным существующим в POSIX способом создания нового процесса. Он создает точную копию исходного процесса, включая все дескрипторы файлов, регистры и т. п. После выполнения вызова fork исходный процесс и его копия (родительский и дочерний процессы) выполняются независимо друг от друга
	- Для родительского процесса он возвращает число отличное от 0
	- Для дочернего 0
	- И также -1 для ошибки содания разветвления процессов
- lseek
	- Позволяет изменить указатель на текущую позицию в файле 
	- Все следующие вызовы write или read начнут с новой позиции в файле
- Link 
	- Просто делает ссылку на один и тот же файл в раных каталогах,изменения файла отобразятся во всех каталогах,которые на него ссылаются
	- Если на файл не ссылается ни один каталог то файл будет удален
- Mount 
	- Позволяет объединять в одну 2 файловые системы
	- Вызов mount позволяет включать сменные носители в единую интегрированную файловую структуру, не обращая внимания на то, на каком устройстве находятся файлы
	- Когда монтирование больше не нужно можно вызвать unmount
- Kill 
	- Позволяет отдавать сигналы процессам
		- Если процесс готов принять определенный сигнал, то при его поступлении запускается обработчик сигнала.
		- Если процесс не готов к обработке сигнала, то его поступление уничтожает процесс (что соответствует имени системного вызова: kill — убивать, уничтожать).

<span style="color:HotPink;font-weight:bold;">Win32 API</span>

- Windows 
	- Windows - событийная OC 
- Win32 API
	- Не вызовы в win32 api выполняются в ядре, некоторые просто являются библиотечными функциями
- Примеры системных вызовов
	- ![[2024-05-19_09-24-49.png|500]]
- 