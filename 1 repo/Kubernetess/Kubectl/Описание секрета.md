[[Config file for Kubectl]]

- Для секретов существует отдельный файл в формате base64
## !!! Однако доступ к этим файлам не ограничивается а сами файлы не шифруются

- Для избежания проблемы стоит использовать внешние поставщики секретов или продумать способ шифрования файлов секрета и ограничения доступа к ним в кластере
- Описание секрета
```json
apiVersion: v1 
kind: Secret
metadata:
  name: postgres-secret
type: Opaque

data:
  // хранение в base64 - просто кодировка а не шифрование
  username: cmVqZXJGb3N0Z3JlczEyMzllcmY4dnU=
  password: UGFzc1Bvc3QxMjM0MjNy
```
- Сссылание на секрет
```json
env:
        - name: POSTGRES_USER
        // указываем что значение внешнее
          valueFrom:
            secretKeyRef:
	        // в имени указывается имя из метеданных
              name: postgres-secret
            // в key указывается ключ из data
              key: username
```