[[Asp net]]

- Длительные действия в контроллере могут быть отменены - для это необходимо прокидывать токен по цепочке
```cs
[HttpGet("sign")]
// принимаем токен
public async Task<IActionResult> SignIn(CancellationToken ct)
{
	// пробрасываем токен
    await Task.Delay(5000,ct);
    _logger.LogInformation("request completed");
    return Ok(new UserModel() { Email="1",Password="1",UserName="1"});
}
```
- При отмене выбросится исключение
- Отмена запроса происходит в js (AbortController)
```js
async function fetchData() {
    let cancell = new AbortController();
    // отмена запроса на клиенте через секунду
    setTimeout(()=>cancell.abort("timeout"),1000)
    let response = await fetch("https://localhost:7235/api/auth/sign"
	    {signal:cancell.signal}
	)  
	// ...
}
```