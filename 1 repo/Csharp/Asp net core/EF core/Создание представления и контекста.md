[[EF core in Asp net]]
- Подробнее [[DbContext]]

- Все необходимое будет создано в папке Data
```cs
// Модели баз данных
public class Recipe
	{
		public int RecipeId { get; set; }
		public string Name { get; set; }
		public TimeSpan TimeToCook { get; set; }
		public bool IsDeleted { get; set; }
		public string Method { get; set; }
		public List<Ingridient> Ingredients { get; set; }
	}
public class Ingridient
	{
		public int IngridientId { get; set; }
		public int RecipeId { get; set; }
		public string Unit { get; set; }
		public decimal Quantity { get; set; }
		public string Name { get; set; }
	}
```
```cs
// DbContext конфигурация происходит в конструкторе а не
// в методе OnConfiguring
public class AppDbContext : DbContext
	{
		public DbSet<Recipe> Recipes { get; set; }
		public AppDbContext(DbContextOptions<AppDbContext> options)
			: base(options)
		{
		}
	}
```
```cs
// подключение контекста - по умолчаию циккл жизни - scoped
services.AddDbContext<AppDbContext>(options => 
		options.UseMySql(
			   // получение строки подключения
			   builder.Configuration.GetConnectionString("DefaultConnection"),
			   new MySqlServerVersion(new Version(8, 0, 33))
			)
);
```
[[Жизненный цикл зависимостей]]
```cs
// JSON файл со строкой подключения 
"ConnectionStrings": {
    "DefaultConnection": "server=127.0.0.1;user=root;password=hell125coding;database=RecipeDb;"
}
```
[[Конфигурация]]
