[[Расширенные функции]]

- Есть два типа вычисляемых столбцов SQL:
	- вычисление выполняется каждый раз при чтении столбца. В этом разделе я называю этот тип динамический вычисляемый столбец;
	- вычисление выполняется только при обновлении сущности. Этот тип называется постоянным вычисляемым столбцом, или хранимым генерируемым столбцом. Не все базы данных поддерживают этот тип
- Определение вычисляемого столбца
```cs
public class Person  
{  
    public int PersonId { get; set; }  
    public required string FirstName { get; set; }  
    public required string LastName { get; set; } 
    // в данном случае столбец вычисляется на клиенте 
    [NotMapped] public string FullName => FirstName + " " + LastName;  
    public required Address Address { get; set; } = null!;  
}
// определение с вычислением в базе
public class Person { 
	public int PersonId { get; set; } 
	public int YearOfBirth { get; private set; } 
	[MaxLength(50)] public string FirstName { get; set; } 
	[MaxLength(50)] public string LastName { get; set; }
	// вычисляемый столбец
	[MaxLength(101)] public string FullName { get; private set; } 
}
```
- Регистрация вычисления
```cs
// stored = true - постоянный столбец(начало заметки)
entity.Property(p => p.FullName).HasComputedColumnSql( "[FirstName] + ' ' + [LastName]", stored:true);
```