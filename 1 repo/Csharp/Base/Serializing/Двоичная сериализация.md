- [библиотеки для сериализации](https://im5tu.io/article/2023/02/.net-serialization-benchmarks-feb-2023/#binary-serialization-results)
- Для двоичной сериализации самыми эффективными являются библиотеки:
- Bebop и Memory Pack (использует кодогенерации)
- [Memory Pack](https://github.com/Cysharp/MemoryPack) 
```cs
// помечает объект как сериализуемый (если содержит типы к т  можно сериализовать)
[MemoryPackable]
public partial class Person
{
    public int PersonId { get; set; }
    public required string Name { get; set; }
    public required string Description { get; set; }
}
```
- Обычная сериализация
```cs
ICollection<Person> persons = FakeDataGenerator.GeneratePersons(count);
// сериализация(коллекции) - получаем массив байт
byte[] bytes = MemoryPackSerializer.Serialize(persons);
// десериализвция из байтов
ICollection<Person>? persons = MemoryPackSerializer.Deserialize<ICollection<Person>>(bytes);
```
- Сериализация в поток - (записывается доп информация о длине данных - в итоге поток нельзя)
```cs
// сериализация в поток
ICollection<Person> persons = FakeDataGenerator.GeneratePersons(count);
await using FileStream stream = File.Open("persons.txt",FileMode.Create);
await MemoryPackSerializer.SerializeAsync(stream,persons);
// десериализация из потока
await using FileStream stream = new FileStream(path, FileMode.Open);
ICollection<Person>? persons = await MemoryPackSerializer.DeserializeAsync<ICollection<Person>>(stream);
```
